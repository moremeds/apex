# Pairs Trading Strategy Backtest Specification
#
# Statistical arbitrage strategy trading the spread between AAPL and MSFT.
# Run with: python -m src.runners.backtest_runner --spec config/backtest/pairs_trading_example.yaml

strategy:
  name: pairs_trading
  id: pairs-aapl-msft-2024
  params:
    lookback: 20                        # Period for mean/std calculation
    entry_zscore: 2.0                   # Z-score threshold for entry
    exit_zscore: 0.5                    # Z-score threshold for exit
    position_size: 10000                # Dollar amount per leg

# Universe - exactly 2 symbols required for pairs trading
universe:
  symbols:
    - AAPL
    - MSFT

# Data source configuration
data:
  source: historical
  bar_size: 1d
  start_date: "2024-01-01"
  end_date: "2024-06-30"

# Execution configuration
execution:
  initial_capital: 100000
  currency: USD
  allowed_order_types:
    - MARKET

# Reality model
reality_model:
  fee_model:
    type: per_share
    params:
      per_share: 0.005
      minimum: 1.0
  slippage_model:
    type: constant
    params:
      slippage_bps: 5

# Reporting
reporting:
  analyzers:
    - sharpe
    - drawdown
    - trades
  persist_to_db: false
  output_dir: "results/backtests"

metadata:
  author: "Apex Team"
  description: "Pairs trading AAPL vs MSFT using z-score mean reversion"
  version: "1.0"
  tags:
    - pairs
    - statistical_arbitrage
    - market_neutral
