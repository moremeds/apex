# VectorBT Fast Screening Example
#
# Demonstrates:
# - Using VectorBT engine for fast parameter screening
# - Large parameter space (100+ combinations)
# - Two-stage pipeline concept: screen with VectorBT, validate top candidates
#
# VectorBT uses NumPy vectorization to evaluate thousands of parameter
# combinations 100-1000x faster than event-driven backtesting.
# Ideal for initial screening before detailed validation.
#
# Run with:
#   python -m src.runners.systematic_backtest_runner --spec config/backtest/examples/06_vectorbt_screening.yaml

name: "VectorBT_Screening_Example"
description: "Fast MA crossover screening with VectorBT engine"
strategy: "ma_cross"

# Larger parameter space for screening
# VectorBT can handle this efficiently (100+ combinations)
parameters:
  fast_period:
    type: range
    min: 5
    max: 30
    step: 5       # 6 values: 5, 10, 15, 20, 25, 30
  slow_period:
    type: range
    min: 40
    max: 120
    step: 20      # 5 values: 40, 60, 80, 100, 120
  # Total: 6 x 5 = 30 combinations per symbol

universe:
  type: static
  symbols:
    - AAPL
    - MSFT
    - GOOGL
    - AMZN
    - META

temporal:
  primary_method: walk_forward
  train_days: 252           # 1 year training
  test_days: 63             # 3 months testing
  folds: 4                  # 4 walk-forward folds
  purge_days: 5
  embargo_days: 2
  start_date: "2020-01-01"
  end_date: "2025-12-30"

optimization:
  method: grid
  metric: sharpe
  direction: maximize

  # VectorBT-specific settings
  engine:
    type: vectorbt
    strategy_type: ma_cross   # Use built-in MA cross
    init_cash: 100000.0
    freq: "1D"

  # Simple constraints for initial screening
  constraints:
    - metric: median_sharpe
      operator: ">="
      value: 0.5
    - metric: median_max_dd
      operator: "<="
      value: 0.25

# Fast track profile for screening (no execution costs)
profiles:
  fast_track:
    name: screening
    version: v1
    slippage_bps: 0.0         # No slippage for fast screening
    commission_per_share: 0.0  # No commission
    fill_model: close

  # Realistic profile for validation stage
  realistic:
    name: validation
    version: v1
    slippage_bps: 10.0
    commission_per_share: 0.01
    fill_model: vwap
    volume_limit_pct: 0.05

reproducibility:
  random_seed: 42
  data_version: "apex_2024.12"
