# TA Metrics Strategy Experiment Configuration
#
# This experiment tests a multi-indicator technical analysis strategy
# using a metrics matrix approach that combines MA, RSI, and MACD signals.
#
# Run with:
#   python -m src.runners.systematic_backtest_runner --spec config/backtest/examples/ta_metrics_experiment.yaml

name: "TA_Metrics_Optimization"
description: "Optimize TA metrics strategy parameters across major tech stocks"
strategy: "ta_metrics"

# Parameter search space
parameters:
  sma_fast:
    type: range
    min: 10
    max: 30
    step: 5
  sma_slow:
    type: range
    min: 40
    max: 60
    step: 10
  rsi_period:
    type: range
    min: 10
    max: 20
    step: 5
  rsi_oversold:
    type: categorical
    values: [25, 30, 35]
  rsi_overbought:
    type: categorical
    values: [65, 70, 75]
  min_score:
    type: range
    min: 2
    max: 4
    step: 1

# Symbol universe
universe:
  type: static
  symbols:
    - TSLA
    - NVDA
    - AAPL
    - MSFT
    - GOOGL

# Temporal configuration
temporal:
  primary_method: walk_forward
  train_days: 252    # 1 year training
  test_days: 63      # 3 months testing
  folds: 4           # 4 walk-forward folds
  purge_days: 5      # 5 trading days gap
  embargo_days: 2    # 2 trading days embargo
  start_date: "2021-01-01"
  end_date: "2025-12-30"

# Optimization settings (Bayesian TPE is default, n_trials auto-scales with grid size)
optimization:
  metric: sharpe
  direction: maximize
  constraints:
    - metric: p10_sharpe
      operator: ">="
      value: 0.0
    - metric: median_max_dd
      operator: "<="
      value: 0.20

# Execution profiles
profiles:
  screening:
    name: fast_screen
    version: v1
    slippage_bps: 5.0
    commission_per_share: 0.005
    fill_model: close
  validation:
    name: realistic
    version: v1
    slippage_bps: 10.0
    commission_per_share: 0.01
    fill_model: vwap

# Reproducibility
reproducibility:
  random_seed: 42
  data_version: "apex_2026.01"
