name: "TrendPulse_Phase1_v2.2"
strategy: "trend_pulse"

parameters:
  # Phase 1: Structure + v2.2 params
  zig_threshold_pct:
    type: range
    min: 2.5
    max: 6.0
    step: 0.5
  trend_strength_moderate:
    type: range
    min: 0.15
    max: 0.35
    step: 0.05
  exit_bearish_bars:
    type: range
    min: 2
    max: 5
    step: 1
  enable_trend_reentry:
    type: categorical
    values: [true, false]
  min_confidence:
    type: range
    min: 0.3
    max: 0.6
    step: 0.1
  atr_stop_mult:
    type: range
    min: 2.0
    max: 3.5
    step: 0.5
  enable_mtf_confirm:
    type: fixed
    value: true  # Always-on weekly trend gate (risk-off in bear regime)

  # v2.2: Chop filter + cooldown
  enable_chop_filter:
    type: fixed
    value: true
  adx_entry_min:
    type: range
    min: 15
    max: 30
    step: 5
  cooldown_bars:
    type: range
    min: 3
    max: 10
    step: 1

  # Frozen params
  swing_filter_bars:
    type: fixed
    value: 5
  top_wr_main:
    type: fixed
    value: 34
  slow_fast:
    type: fixed
    value: 55
  slow_slow:
    type: fixed
    value: 89
  slow_signal:
    type: fixed
    value: 34
  slope_lookback:
    type: fixed
    value: 3
  trend_strength_strong:
    type: fixed
    value: 0.6
  min_pct:
    type: fixed
    value: 0.2
  max_pct:
    type: fixed
    value: 0.8
  signal_shift_bars:
    type: fixed
    value: 1
  weekly_ema_period:
    type: fixed
    value: 26
  ema_reentry_period:
    type: fixed
    value: 25

secondary_timeframes: [1W]

universe:
  type: static
  symbols:
    # High-momentum tech
    - NVDA
    - META
    - AMZN
    - AVGO
    - AMD
    - TSLA
    # Steady large-cap tech
    - AAPL
    - MSFT
    - GOOGL
    - CRM
    # Non-tech trend
    - LLY
    - UNH
    - CAT
    - GS
    - XOM
    - COST
    # Mid-cap momentum
    - PANW
    # Index / defensive
    - SPY
    - QQQ
    - IWM
    - XLP

temporal:
  primary_method: walk_forward
  train_days: 756
  test_days: 252
  folds: 3
  purge_days: 5
  embargo_days: 2
  start_date: "2020-01-01"
  end_date: "2025-12-30"

walk_forward:
  train_days: 756
  test_days: 252
  n_folds: 3
  holdout_pct: 0.15

optimization:
  method: bayesian
  metric: custom_score
  direction: maximize
  n_trials: 80
  constraints:
    - metric: total_trades
      operator: ">="
      value: 5
    - metric: median_max_dd
      operator: "<="
      value: 0.35
    - metric: profit_factor
      operator: ">="
      value: 1.1

profiles:
  default:
    name: standard
    version: v1
    slippage_bps: 5.0
    commission_per_share: 0.005
    fill_model: close

reproducibility:
  random_seed: 42
  data_version: "apex_2026.01"
