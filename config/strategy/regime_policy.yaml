# Per-strategy regime policies
# Each strategy defines which regimes allow trading,
# minimum dwell times, switch cooldowns, and trade limits.

# Default policy (used when strategy doesn't specify one)
default:
  allowed_regimes: ["R0", "R1", "R3"]
  min_dwell_bars: 5
  switch_cooldown_bars: 10
  max_trades_per_regime:
    R0: 50
    R1: 20
    R3: 10
  forced_degross_regimes: ["R2"]
  degross_target_pct: 0.0
  size_factors:
    R0: 1.0
    R1: 0.6
    R3: 0.3

# PulseDip: TrendPulse + DualMACD confluence
# Note: Runtime gate is hardcoded in playbook constructor â€” keep in sync manually
pulse_dip:
  allowed_regimes: ["R0", "R1", "R3"]
  min_dwell_bars: 5
  switch_cooldown_bars: 10
  max_trades_per_regime:
    R0: 30
    R1: 15
    R3: 8
  forced_degross_regimes: ["R2"]
  degross_target_pct: 0.0
  size_factors:
    R0: 1.0
    R1: 0.5
    R3: 0.3

# SqueezePlay: Squeeze breakout with regime confirmation
squeeze_play:
  allowed_regimes: ["R0", "R1"]
  min_dwell_bars: 3
  switch_cooldown_bars: 8
  max_trades_per_regime:
    R0: 25
    R1: 15
  forced_degross_regimes: ["R2"]
  degross_target_pct: 0.0
  size_factors:
    R0: 1.0
    R1: 0.6

# RegimeFlex: Meta-strategy
regime_flex:
  allowed_regimes: ["R0", "R1", "R3"]
  min_dwell_bars: 10
  switch_cooldown_bars: 15
  max_trades_per_regime:
    R0: 40
    R1: 20
    R3: 10
  forced_degross_regimes: ["R2"]
  degross_target_pct: 0.2
  size_factors:
    R0: 1.0
    R1: 0.6
    R3: 0.3

# SectorPulse: Sector rotation
sector_pulse:
  allowed_regimes: ["R0", "R1", "R3"]
  min_dwell_bars: 5
  switch_cooldown_bars: 10
  max_trades_per_regime:
    R0: 20
    R1: 10
    R3: 5
  forced_degross_regimes: ["R2"]
  degross_target_pct: 0.0
  size_factors:
    R0: 1.0
    R1: 0.5
    R3: 0.2
